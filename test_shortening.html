<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–æ–≤</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .test-case {
            border: 1px solid #ddd;
            margin: 10px 0;
            padding: 15px;
            border-radius: 5px;
        }
        .original {
            color: #666;
            font-style: italic;
        }
        .shortened {
            color: #2c5aa0;
            font-weight: bold;
        }
        .product-name {
            font-size: 18px;
            margin-bottom: 10px;
        }
        .availability-info {
            color: #e74c3c;
            font-size: 14px;
        }
        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #2980b9;
        }
        input {
            padding: 8px;
            margin: 5px;
            border: 1px solid #ddd;
            border-radius: 3px;
            width: 300px;
        }
    </style>
</head>
<body>
    <h1>üßÅ –¢–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–æ–≤ –¥–ª—è availability-info</h1>
    
    <div class="test-case">
        <h3>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ:</h3>
        <input type="text" id="fullText" placeholder="–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä: –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –ø–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–º—É –∑–∞–∫–∞–∑—É)">
        <input type="text" id="shortText" placeholder="–°–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ø–æ –ø—Ä–µ–¥–∑–∞–∫–∞–∑—É)">
        <button onclick="addNewAbbreviation()">–î–æ–±–∞–≤–∏—Ç—å —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ</button>
        <button onclick="testAllAbbreviations()">–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è</button>
    </div>

    <h2>–ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏:</h2>
    
    <div class="test-case">
        <div class="product-name">–ü–∏—Ä–æ–∂–Ω–æ–µ –í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ</div>
        <div class="original">–û—Ä–∏–≥–∏–Ω–∞–ª: –¥–µ—Å–µ—Ä—Ç —É–∫—Ä–∞—à–µ–Ω —Å–µ–∑–æ–Ω–Ω—ã–º–∏ —è–≥–æ–¥–∞–º–∏</div>
        <div class="shortened">–°–æ–∫—Ä–∞—â–µ–Ω–æ: <span class="availability-info" id="test1"></span></div>
    </div>

    <div class="test-case">
        <div class="product-name">–¢–æ—Ä—Ç –ú–∞–Ω–≥–æ-–ú–∞—Ä–∞–∫—É–π—è</div>
        <div class="original">–û—Ä–∏–≥–∏–Ω–∞–ª: –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –ø–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–º—É –∑–∞–∫–∞–∑—É</div>
        <div class="shortened">–°–æ–∫—Ä–∞—â–µ–Ω–æ: <span class="availability-info" id="test2"></span></div>
    </div>

    <div class="test-case">
        <div class="product-name">–•–ª–µ–± –†–∂–∞–Ω–æ–π</div>
        <div class="original">–û—Ä–∏–≥–∏–Ω–∞–ª: –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ</div>
        <div class="shortened">–°–æ–∫—Ä–∞—â–µ–Ω–æ: <span class="availability-info" id="test3"></span></div>
    </div>

    <div class="test-case">
        <div class="product-name">–ü–µ—á–µ–Ω—å–µ –û–≤—Å—è–Ω–æ–µ</div>
        <div class="original">–û—Ä–∏–≥–∏–Ω–∞–ª: —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞ –º–∏–Ω–∏–º—É–º –∑–∞ –¥–µ–Ω—å</div>
        <div class="shortened">–°–æ–∫—Ä–∞—â–µ–Ω–æ: <span class="availability-info" id="test4"></span></div>
    </div>

    <div class="test-case">
        <div class="product-name">–ö—Ä—É–∞—Å—Å–∞–Ω –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π</div>
        <div class="original">–û—Ä–∏–≥–∏–Ω–∞–ª: —Å–≤–µ–∂–∏–π –ø—Ä–æ–¥—É–∫—Ç</div>
        <div class="shortened">–°–æ–∫—Ä–∞—â–µ–Ω–æ: <span class="availability-info" id="test5"></span></div>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–æ–≤ –≤ availability-info
        function shortenAvailabilityText(text) {
            if (!text || text === 'N/A') return text;
            
            // –°–ª–æ–≤–∞—Ä—å —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π –¥–ª—è —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—â–∏—Ö—Å—è —Ñ—Ä–∞–∑
            const abbreviations = {
                '–¥–µ—Å–µ—Ä—Ç —É–∫—Ä–∞—à–µ–Ω —Å–µ–∑–æ–Ω–Ω—ã–º–∏ —è–≥–æ–¥–∞–º–∏': '—É–∫—Ä–∞—à–µ–Ω —Å–µ–∑–æ–Ω–Ω—ã–º–∏ —è–≥–æ–¥–∞–º–∏',
                '–∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –ø–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–º—É –∑–∞–∫–∞–∑—É': '–ø–æ –ø—Ä–µ–¥–∑–∞–∫–∞–∑—É',
                '–∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –ø–æ –ø—Ä–µ–¥–∑–∞–∫–∞–∑—É': '–ø–æ –ø—Ä–µ–¥–∑–∞–∫–∞–∑—É',
                '–¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–º—É –∑–∞–∫–∞–∑—É': '–ø–æ –ø—Ä–µ–¥–∑–∞–∫–∞–∑—É',
                '—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞': '–ø–æ –ø—Ä–µ–¥–∑–∞–∫–∞–∑—É',
                '–∑–∞–∫–∞–∑ –∑–∞ –¥–µ–Ω—å –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è': '–∑–∞ –¥–µ–Ω—å –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è',
                '–∑–∞–∫–∞–∑ –∑–∞ 2 –¥–Ω—è –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è': '–∑–∞ 2 –¥–Ω—è –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è',
                '–∑–∞–∫–∞–∑ –∑–∞ 3 –¥–Ω—è –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è': '–∑–∞ 3 –¥–Ω—è –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è',
                '–∑–∞–∫–∞–∑ –∑–∞ –Ω–µ–¥–µ–ª—é –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è': '–∑–∞ –Ω–µ–¥–µ–ª—é –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è',
                '–¥–æ—Å—Ç—É–ø–µ–Ω –≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ': '–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ',
                '—Å–µ–∑–æ–Ω–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç': '—Å–µ–∑–æ–Ω–Ω—ã–π',
                '—Ç–æ–ª—å–∫–æ –≤ —Å–µ–∑–æ–Ω': '—Å–µ–∑–æ–Ω–Ω—ã–π',
                '—Å–≤–µ–∂–∏–π –ø—Ä–æ–¥—É–∫—Ç': '—Å–≤–µ–∂–∏–π',
                '–≥–æ—Ç–æ–≤–∏—Ç—Å—è –Ω–∞ –∑–∞–∫–∞–∑': '–Ω–∞ –∑–∞–∫–∞–∑',
                '–≥–æ—Ç–æ–≤–∏—Ç—Å—è –ø–æ –∑–∞–∫–∞–∑—É': '–Ω–∞ –∑–∞–∫–∞–∑',
                '—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞ –º–∏–Ω–∏–º—É–º –∑–∞ –¥–µ–Ω—å': '–ø–æ –ø—Ä–µ–¥–∑–∞–∫–∞–∑—É –∑–∞ –¥–µ–Ω—å',
                '—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞ –º–∏–Ω–∏–º—É–º –∑–∞ 2 –¥–Ω—è': '–ø–æ –ø—Ä–µ–¥–∑–∞–∫–∞–∑—É –∑–∞ 2 –¥–Ω—è',
                '—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞ –º–∏–Ω–∏–º—É–º –∑–∞ 3 –¥–Ω—è': '–ø–æ –ø—Ä–µ–¥–∑–∞–∫–∞–∑—É –∑–∞ 3 –¥–Ω—è',
                '—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞ –º–∏–Ω–∏–º—É–º –∑–∞ –Ω–µ–¥–µ–ª—é': '–ø–æ –ø—Ä–µ–¥–∑–∞–∫–∞–∑—É –∑–∞ –Ω–µ–¥–µ–ª—é',
                '–¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –ø–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–º—É –∑–∞–∫–∞–∑—É': '–ø–æ –ø—Ä–µ–¥–∑–∞–∫–∞–∑—É',
                '–∏–∑–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–º—É –∑–∞–∫–∞–∑—É': '–ø–æ –ø—Ä–µ–¥–∑–∞–∫–∞–∑—É',
                '–≥–æ—Ç–æ–≤–∏—Ç—Å—è –ø–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–º—É –∑–∞–∫–∞–∑—É': '–ø–æ –ø—Ä–µ–¥–∑–∞–∫–∞–∑—É'
            };
            
            // –ò—â–µ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –∏ –∑–∞–º–µ–Ω—è–µ–º
            for (const [fullText, shortText] of Object.entries(abbreviations)) {
                if (text.toLowerCase().includes(fullText.toLowerCase())) {
                    return text.replace(new RegExp(fullText, 'gi'), shortText);
                }
            }
            
            return text;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π –≤ runtime
        function addAvailabilityAbbreviation(fullText, shortText) {
            if (typeof fullText === 'string' && typeof shortText === 'string') {
                // –î–æ–±–∞–≤–ª—è–µ–º –≤ localStorage –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
                const customAbbreviations = JSON.parse(localStorage.getItem('custom_availability_abbreviations') || '{}');
                customAbbreviations[fullText] = shortText;
                localStorage.setItem('custom_availability_abbreviations', JSON.stringify(customAbbreviations));
                
                console.log(`‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ: "${fullText}" ‚Üí "${shortText}"`);
                return true;
            }
            return false;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π (–≤–∫–ª—é—á–∞—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ)
        function getAllAvailabilityAbbreviations() {
            const customAbbreviations = JSON.parse(localStorage.getItem('custom_availability_abbreviations') || '{}');
            return {
                ...customAbbreviations,
                // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
            };
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è
        function addNewAbbreviation() {
            const fullText = document.getElementById('fullText').value.trim();
            const shortText = document.getElementById('shortText').value.trim();
            
            if (fullText && shortText) {
                if (addAvailabilityAbbreviation(fullText, shortText)) {
                    alert(`‚úÖ –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ: "${fullText}" ‚Üí "${shortText}"`);
                    document.getElementById('fullText').value = '';
                    document.getElementById('shortText').value = '';
                    testAllAbbreviations(); // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ—Å—Ç—ã
                } else {
                    alert('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è');
                }
            } else {
                alert('‚ö†Ô∏è –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±–∞ –ø–æ–ª—è');
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π
        function testAllAbbreviations() {
            const testTexts = [
                '–¥–µ—Å–µ—Ä—Ç —É–∫—Ä–∞—à–µ–Ω —Å–µ–∑–æ–Ω–Ω—ã–º–∏ —è–≥–æ–¥–∞–º–∏',
                '–∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –ø–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–º—É –∑–∞–∫–∞–∑—É',
                '–¥–æ—Å—Ç—É–ø–µ–Ω –≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ',
                '—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞ –º–∏–Ω–∏–º—É–º –∑–∞ –¥–µ–Ω—å',
                '—Å–≤–µ–∂–∏–π –ø—Ä–æ–¥—É–∫—Ç'
            ];
            
            document.getElementById('test1').textContent = shortenAvailabilityText(testTexts[0]);
            document.getElementById('test2').textContent = shortenAvailabilityText(testTexts[1]);
            document.getElementById('test3').textContent = shortenAvailabilityText(testTexts[2]);
            document.getElementById('test4').textContent = shortenAvailabilityText(testTexts[3]);
            document.getElementById('test5').textContent = shortenAvailabilityText(testTexts[4]);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = function() {
            testAllAbbreviations();
        };
    </script>
</body>
</html>
