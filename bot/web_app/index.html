<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0">
        <title>Меню пекарни Дражина</title>
        <!-- Подключение стилей с сайта drazhin.by -->
        <link href="../../css/theme.css" rel="stylesheet" type="text/css">
        <link href="css/theme.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="/bot-app/main.min.css">
        <!-- Подключение вашего кастомного CSS файла (для переопределений, если нужно) -->
        <link rel="stylesheet" href="/bot-app/style.css">
        <!-- Подключение Telegram Web App SDK -->
        <script src="https://telegram.org/js/telegram-web-app.js"></script>
    </head>
    <body>
        <!-- Welcome Container - теперь находится вне основного контейнера приложения -->
        <div id="welcome-container" class="welcome-container hidden">
            <h1 class="welcome-title">Пекарня Дражина — всегда с теплотой и заботой</h1>
            <p class="welcome-text">
            Свежий хлеб на закваске, круассаны и другая выпечка с доставкой по Минску, а также в фирменных точках продаж и в ресторанах наших партнеров. </p>
            <button class="start-shopping-button" id="start-shopping-button">Заказать с доставкой</button>
        </div>
        <!-- Основной контейнер приложения, который будет скрыт на welcome screen -->
        <div class="container" id="main-page-container">
            <!-- Заголовок для продуктов, корзины, оформления заказа (управляется script.js) -->
            <h2 class="category-title" id="main-category-title">Загрузка...</h2>
            <!-- div с id="app-content" будет содержать все динамические контейнеры -->
            <div id="app-content">
                <!-- Categories Container -->
                <div class="categories-container-wrapper hidden" id="categories-container">
                    <!-- Категории будут вставляться сюда динамически -->
                </div>
                <div class="products-grid hidden" id="products-container">
                    <div id="product-list">
                        <!-- Карточки товаров будут вставляться сюда -->
                    </div>
                </div>
                <div class="cart-container hidden" id="cart-container">
                    <div id="cart-items-list">
                        <!-- Элементы корзины будут вставляться сюда -->
                    </div>
                    <div class="cart-total" id="cart-total">
                        Общая сумма: 0.00 р.
</div>
                    <div class="cart-actions-bottom">
                        <button class="checkout-button" id="checkout-button">Оформить заказ</button>
                        <button class="clear-cart-button" id="clear-cart-button">Очистить корзину</button>
                    </div>
                    <!-- ДОБАВЛЕНО: Кнопка "Продолжить покупки" -->
                    <button class="back-button" id="continue-shopping-button">⬅️ Продолжить покупки</button>
                    <!-- ДОБАВЛЕНО: Кнопка "Наше меню" для пустой корзины -->
                    <button class="menu-button hidden" id="empty-cart-menu-button">Наше меню</button>
                </div>
                <div class="checkout-container hidden" id="checkout-container">
                    <form id="checkout-form" class="checkout-form">
                        <div class="form-group">
                            <label for="last-name">Фамилия:</label>
                            <input type="text" id="last-name" name="lastName" maxlength="50" required>
                            <div class="error-message" id="lastName-error">Пожалуйста, введите вашу фамилию.</div>
                        </div>
                        <div class="form-group">
                            <label for="first-name">Имя:</label>
                            <input type="text" id="first-name" name="firstName" maxlength="50" required>
                            <div class="error-message" id="firstName-error">Пожалуйста, введите ваше имя.</div>
                        </div>
                        <div class="form-group">
                            <label for="middle-name">Отчество:</label>
                            <input type="text" id="middle-name" name="middleName" maxlength="50" required>
                            <div class="error-message" id="middleName-error">Пожалуйста, введите ваше отчество.</div>
                        </div>
                        <div class="form-group">
                            <label for="phone-number">Телефон:</label>
                            <input type="tel" id="phone-number" name="phoneNumber" placeholder="+375 (XX) XXX-XX-XX" maxlength="50" required>
                            <div class="error-message" id="phoneNumber-error">Пожалуйста, введите корректный номер телефона.</div>
                        </div>
                        <div class="form-group">
                            <label for="email">Email:</label>
                            <input type="email" id="email" name="email" maxlength="50" required>
                            <div class="error-message" id="email-error">Пожалуйста, введите корректный Email.</div>
                        </div>
                        <div class="form-group">
                            <label for="delivery-date">Дата доставки/самовывоза:</label>
                            <input type="date" id="delivery-date" name="deliveryDate" required>
                            <div class="error-message" id="deliveryDate-error">Пожалуйста, выберите дату.</div>
                        </div>
                        <div class="form-group">
                            <label>Способ получения:</label>
                            <div class="radio-group">
                                <input type="radio" id="delivery-courier-radio" name="deliveryMethod" value="courier" checked>
                                <label for="delivery-courier-radio">Доставка курьером</label>
                                <input type="radio" id="delivery-pickup-radio" name="deliveryMethod" value="pickup">
                                <label for="delivery-pickup-radio">Самовывоз</label>
                            </div>
                        </div>
                        <div id="courier-delivery-fields" class="delivery-address-fields">
                            <div class="form-group">
                                <label for="city">Город <span class="required">*</span>
                                </label>
                                <select id="city" name="city"> 
                                    <!-- required будет управляться JS -->
                                    <option value="">Выберите город</option>
                                    <option value="Минск">Минск</option>
                                    <option value="Заславль">Заславль</option>
                                    <option value="Тарасово">Тарасово</option>
                                    <option value="Ратомка">Ратомка</option>
                                </select>
                                <div class="error-message" id="city-error">Пожалуйста, выберите город.</div>
                            </div>
                            <div class="form-group">
                                <label for="address-line">Адрес (улица, дом, квартира):</label>
                                <input type="text" id="address-line" name="addressLine" maxlength="50" required>
                                <div class="error-message" id="addressLine-error">Пожалуйста, введите адрес.</div>
                            </div>
                            <div class="form-group">
                                <label for="comment-delivery">Комментарий к доставке:</label>
                                <textarea id="comment-delivery" name="commentDelivery" rows="3" maxlength="250"></textarea>
                            </div>
                        </div>
                        <div id="pickup-addresses" class="hidden">
                            <div class="form-group">
                                <label>Выберите адрес самовывоза:</label>
                                <div class="radio-group" id="pickup-radio-group">
                                    <!-- Адреса самовывоза будут загружены динамически -->
                                    <label>
                                        <input type="radio" name="pickupAddress" value="ТЦ Green City"> ТЦ "Green City", ул. Притыцкого, 156
                                    </label>
                                    <label>
                                        <input type="radio" name="pickupAddress" value="ТЦ Замок"> ТЦ "Замок", пр‑т Победителей, 65
                                    </label>
                                    <label>
                                        <input type="radio" name="pickupAddress" value="ул. Л. Беды, 26"> ул. Л. Беды, 26
                                    </label>
                                    <label>
                                        <input type="radio" name="pickupAddress" value="ул. Мстиславца, 8"> ул. Мстиславца, 8
                                    </label>
                                    <label>
                                        <input type="radio" name="pickupAddress" value="ул. Лученка, 1"> ул. Лученка, 1
                                    </label>
                                    <label>
                                        <input type="radio" name="pickupAddress" value="ул. Авиационная, 8"> ул. Авиационная, 8
                                    </label>
                                    <label>
                                        <input type="radio" name="pickupAddress" value="ул. Нововиленская, 45"> ул. Нововиленская, 45
                                    </label>
                                    <label>
                                        <input type="radio" name="pickupAddress" value="ул. Морской риф 1/4"> ул. Морской риф 1/4
                                    </label>
                                    <label>
                                        <input type="radio" name="pickupAddress" value="г. Заславль, ул. Вокзальная, 11"> г. Заславль, ул. Вокзальная, 11
                                    </label>
                                    <div class="error-message" id="pickupAddress-error">Пожалуйста, выберите адрес самовывоза.</div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="comment-pickup">Комментарий к самовывозу:</label>
                                <textarea id="comment-pickup" name="commentPickup" rows="3" maxlength="250"></textarea>
                            </div>
                        </div>
                        <!-- Новые текстовые блоки для условий доставки -->
                        <div id="courier-text" class="delivery-info-text hidden">
                            <p class="courier-info-black">Минимальная сумма заказа для доставки курьером - 70 рублей.</p>
                            <p class="courier-info-red">В праздничные и предпраздничные дни - 200 рублей.</p>
                            <p class="courier-info-red">Доставка осуществляется ежедневно во временном промежутке с 12.30 до 17.00 за исключением праздничных дней.</p>
                        </div>
                        <div id="pickup-text" class="delivery-info-text hidden">
                            <p class="pickup-info-black">Заказ на самовывоз оформляется в день покупки и формируется после произведения оплаты посредством системы ЕРИП. Время готовности заказа и его поступление в пункт самовывоза можно уточнить по телефону <a href="tel:+375291172577">+375 (29) 117-25-77</a></p>
                        </div>
                        <button type="submit" class="submit-order-button">Сделать заказ</button>
                    </form>
                    <div class="cart-actions-checkout" style="margin-top: 20px;">
                        <button class="back-from-checkout-button" id="back-from-checkout-to-cart">Назад к корзине</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Новый экран продукта (заменяет поп-ап) -->
        <div class="product-screen hidden" id="product-screen">
            <div class="product-screen-content">
                <div id="product-screen-body">
                    <!-- Содержимое экрана продукта будет заполняться динамически -->
                </div>
            </div>
        </div>

    <!-- Подключение внешнего JavaScript файла -->
    <script src="/bot-app/script.js"></script>
</body>
</html>
